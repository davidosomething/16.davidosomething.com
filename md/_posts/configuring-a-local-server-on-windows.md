---
title: "Configuring a Local Server on Windows"
datePublished: 2010-01-29T08:18:27+00:00
tags:
  - apache
  - server
  - software
  - windows
slug: configuring-a-local-server-on-windows
---


<p>I will probably use this post as a reference for myself next time I have to set up a local development environment. It&#8217;s a well-learned fact that a properly set-up local server will reduce hiccups in development and ease in the transition to a production server.</p>
<h3 class="noted">XAMPP Post-installation Configuration</h3>
<p>I use the <a href="http://www.apachefriends.org/en/xampp.html">XAMPP</a> package on my laptop. This typically comes well configured (e.g. PHP memory limit is 128mb!), but there are a couple things it doesn&#8217;t do:</p>
<ol>
<li><strong>Add the path to php.exe to the environment variables.</strong> This lets you run the php executable from the command line, which you might need if you plan on using anything that is scripted in or compiles with php (e.g., the <a href="http://www.symfony-project.org/">symfony framework</a>).<br />
To add the path, go to the folder where you installed XAMPP, inside which is a php folder (where php.exe resides). Copy this path (for me it is <em class="folder">D:xamppphp</em>). Then, right-click on (My) Computer, select Properties -> Advanced system settings -> System Properties -> Advanced -> Environment Variables. In the System variables section, find and select Path, then click Edit. Add a semi-colon if there isn&#8217;t one at the end of the Variable value list and paste the path to php.exe after it.</li>
<li><strong>Repeat for perl.</strong> The perl binary was in <em class="folder">D:xamppperlbin</em> for me.</li>
</ol>
<h5>Paths Trouble</h5>
<p>I had a lot of trouble getting WordPress to play nice with local paths in Windows (the slashes go the wrong way when using $_SERVER variables or path functions), so next time I will definitely just set up my development server on a Linux virtual machine and carry that around with me. Apache on Cygwin is another option.<br />
<span id="more-681"></span></p>
<h3>Setting up Windows hosts and libraries</h3>
<p>For each project in its own domain or subdomain on a production server, I set up my &#8220;hosts&#8221; file to recognize a local mirror&#8211;such as &#8220;hokuten.dev&#8221; and &#8220;davidosomething.com.&#8221; The &#8220;hosts&#8221; file can be found in <em class="folder">C:WindowsSystem32driversetc</em>. I&#8217;m using Windows 7, on which there is a feature called &#8220;Libraries&#8221; that collects folders together. The &#8220;etc&#8221; folder is one of the folders I keep in a library I created called Development.<br />
The hosts file is usually write-protected by default. I turn this off and don&#8217;t think of it as a security risk as much as it is a convenience. You can edit the hosts file with any text editor. My file is typically already filled with entries generated by <a href="http://www.safer-networking.org/index2.html">Spybot &#8211; Search &#038; Destroy</a> and other programs. These programs use the hosts file to redirect requests to those addresses to localhost, where they are undefined and load nothing as a result. Using the same syntax as those entries, I create a few of my own at the top of the file:</p>
<pre class="brush: plain">
127.0.0.1	albanypdpsi.dev
127.0.0.1	davidosomething.com
127.0.0.1	hokuten.dev
127.0.0.1	metabook.dev
127.0.0.1	localhost
</pre>
<p>This basically means &#8220;redirect all requests to hokuten.dev to the ip 127.0.0.1.&#8221; 127.0.0.1 is the ip your computer sets as its own local ip. So now, if I type hokuten.dev into the browser, I circle back to localhost, where this host name is not recognized.</p>
<h3>Setting up Virtual Hosts</h3>
<p>Logically, the next step is to make the Apache service recognize this host. To do this, I add a virtual host to the &#8220;httpd-vhosts.conf&#8221; file located in the <em class="folder">D:xamppapacheconfextra</em> folder. I also add <em class="folder">D:xamppapacheconf</em> to my Development library so I can access the vhosts file easily.<br />
When adding virtual hosts, the name &#8220;localhost&#8221; stops working. You can turn it back on by adding the following as a virtual host:</p>
<pre class="brush: xml">
&lt;VirtualHost *:80&gt;
ServerName localhost
&lt;/VirtualHost&gt;
</pre>
<p>Here is part of my virtual hosts configuration file:</p>
<pre class="brush: xml">
# Virtual Hosts
NameVirtualHost *:80

################################################################################
# localhost
################################################################################
&lt;VirtualHost *:80&gt;
ServerName localhost
&lt;/VirtualHost&gt;

################################################################################
# davidosomething.com
################################################################################
&lt;VirtualHost *:80&gt;
	ServerName hokuten.dev
	ServerAlias www.hokuten.dev
	ServerAdmin localhost@hokuten.dev
	DocumentRoot &quot;D:/www/davidosomething.com&quot;
	&lt;Directory &quot;D:/www/davidosomething.com&quot;&gt;
		AllowOverride all
		Allow from all
		Options all
	&lt;/Directory&gt;
	ErrorDocument 404 /404.shtml
&lt;/VirtualHost&gt;
</pre>
<p>This is working, so if it doesn&#8217;t for you, check the Listen directive in httpd.conf and your firewall settings. Also, I turn off a few settings in httpd.conf, such as index colorization and user directories (see the includes section at the bottom of the file).</p>

